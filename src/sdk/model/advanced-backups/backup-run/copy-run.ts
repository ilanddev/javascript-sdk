import { CopySnapshotTaskStatus } from './copy-snapshot-task-status';
import { CopyRunStats } from './copy-run-stats';
import { SnapshotTargetSettings } from './snapshot-target-settings';
import { StatusCopyRun } from './__json__/status-copy-run';
import { CopyRunJson } from './__json__/copy-run-json';

/**
 * Copy Run.
 */
/* istanbul ignore next: autogenerated */
export class CopyRun {

  constructor(private _json: CopyRunJson) {
  }

  /**
   * Get copy snapshot tasks.
   * @returns {Array<CopySnapshotTaskStatus>}
   */
  get copySnapshotTasks(): Array<CopySnapshotTaskStatus> {
    return this._json.copy_snapshot_tasks?.map(it => new CopySnapshotTaskStatus(it));
  }

  /**
   * Get error.
   * @returns {string | null}
   */
  get error(): string | null {
    return this._json.error || null;
  }

  /**
   * Get expiry time.
   * @returns {number | null}
   */
  get expiryTime(): number | null {
    return this._json.expiry_time ?? null;
  }

  /**
   * Get run start time.
   * @returns {number}
   */
  get runStartTime(): number {
    return this._json.run_start_time;
  }

  /**
   * Get stats.
   * @returns {CopyRunStats | null}
   */
  get stats(): CopyRunStats | null {
    return this._json.stats ? new CopyRunStats(this._json.stats) : null;
  }

  /**
   * Get status.
   * @returns {StatusCopyRun}
   */
  get status(): StatusCopyRun {
    return this._json.status;
  }

  /**
   * Get target.
   * @returns {SnapshotTargetSettings}
   */
  get target(): SnapshotTargetSettings {
    return new SnapshotTargetSettings(this._json.target);
  }

  /**
   * Get the json representation of this class.
   * @returns {CopyRunJson}
   */
  get json(): CopyRunJson {
    return Object.assign({}, this._json);
  }

  /**
   * Get the string representation of this class.
   * @returns {string}
   */
  toString(): string {
    return JSON.stringify(this._json, undefined, 2);
  }
}
